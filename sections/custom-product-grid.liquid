<div class="custom-product-grid">
  <h2 class="grid-title">{{ section.settings.title }}</h2>
  <div class="grid-container">
    {% for i in (1..6) %}
      {% assign product_var = 'product' | append: i %}
      {% assign product_obj = all_products[section.settings[product_var]] %}
      {% if product_obj %}
        <div class="grid-item" data-handle="{{ product_obj.handle }}">
          <img 
            src="{{ product_obj.featured_image | image_url: width: 433, height: 444, crop: 'center' }}" 
            alt="{{ product_obj.title }}">
        </div>
      {% endif %}
    {% endfor %}
  </div>
</div>

<!-- Product Popup -->
<div id="product-popup" class="product-popup hidden">
  <div class="product-popup-content">
    <span class="product-popup-close">&times;</span>
    <h2 id="popup-title"></h2>
    <p class="product-popup-price" id="popup-price"></p>
    <div class="product-popup-desc" id="popup-description"></div>
    <div class="product-popup-variants" id="popup-variants"></div>
    <button class="product-popup-add" id="popup-add-to-cart">Add to Cart</button>
  </div>
</div>

{% schema %}
{
  "name": "Custom Product Grid",
  "settings": [
    { "type": "text", "id": "title", "label": "Section Title", "default": "Tisso Vison in the Wild" },
    { "type": "product", "id": "product1", "label": "Product 1" },
    { "type": "product", "id": "product2", "label": "Product 2" },
    { "type": "product", "id": "product3", "label": "Product 3" },
    { "type": "product", "id": "product4", "label": "Product 4" },
    { "type": "product", "id": "product5", "label": "Product 5" },
    { "type": "product", "id": "product6", "label": "Product 6" }
  ],
  "presets": [
    { "name": "Custom Product Grid" }
  ]
}
{% endschema %}
